import{config}from"./_config.js";import{translate}from"./_translateStrings.js";import{formValidate,formError,formEnable}from"./_formValidation.js";import{resetLogin}from"./_userAccount.js";!function(){const e=G$("John","Wick","en");$("#langSelect").on("change",function(o){o.preventDefault(),o.target.value!==config.state.currentLanguage&&(config.state.currentLanguage=o.target.value,e.setLang(o.target.value),translate(o.target.value))}),$("#firstName, #lastName").on("change, blur",function(e){e.preventDefault();let o=!1;resetLogin(),formValidate(config.selectors.loginForm)?formEnable(config.selectors.loginForm):(formEnable(config.selectors.loginForm,!1),o=!0),console.log(e),"lastName"===e.target.id||"blur"===e.type?formError(o):formError(!1)}),$("#login").on("click",function(o){o.preventDefault(),formValidate(config.selectors.loginForm)?(formError(!1),e.firstName=document.querySelector("#loginForm #firstName").value,e.lastName=document.querySelector("#loginForm #lastName").value,e.age=document.querySelector("#loginForm #age").value,e.HTMLGreeting("#toGreet",e.age>29),config.state.loggedIn||$(config.selectors.card).toggleClass("is-flipped"),config.state.loggedIn=!0):(resetLogin(),document.querySelector("#formError")||formError())}),$("#logout").on("click",function(e){e.preventDefault(),resetLogin()})}();