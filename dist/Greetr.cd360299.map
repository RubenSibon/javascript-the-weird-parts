{"version":3,"sources":["js/lib/Greetr.js"],"names":["jQuery","global","$","Greetr","firstName","lastName","language","age","init","supportedLangs","formalLanguage","greetings","en","es","nl","formalGreeting","logMessages","prototype","fullName","validate","indexOf","greeting","greet","formal","msg","console","log","setLang","lang","setFormal","toString","isFormal","HTMLGreeting","selector","htmlMsg","selected","document","querySelectorAll","error","querySelector","length","innerHTML","element","self","NaN","G$","window"],"mappings":"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","file":"Greetr.cd360299.map","sourceRoot":"..","sourcesContent":["// If jQuery does not exist make it an empty object.\nif (!jQuery) {\n    var jQuery = {};\n}\n\n(function(global, $) {\n\n    /**\n     * Greetr constructor function.\n     * @constructor\n     * @param {string} firstName\n     * @param {string} lastName\n     * @param {string} language\n     */\n    var Greetr = function(firstName, lastName, language, age) {\n        return new Greetr.init(firstName, lastName, language, age);\n    };\n\n    /** Supported languages. */\n    var supportedLangs = ['en', 'es', 'nl'];\n\n    /** Whether language is formal or not. */\n    var formalLanguage = false;\n\n    /** Default informal greetings. */\n    var greetings = {\n        en: 'Hello',\n        es: 'Hola',\n        nl: 'Hallo'\n    };\n\n    /** Default formal greetings. */\n    var formalGreeting = {\n        en: 'Greetings',\n        es: 'Saludos',\n        nl: 'Gegroet'\n    };\n\n    /** Logged in messages. */\n    var logMessages = {\n        en: 'Logged in',\n        es: 'Inicio sesion',\n        nl: 'Ingelogd'\n    };\n\n    /**\n     * Methods of Greetr.\n     */\n    Greetr.prototype = {\n\n        /**\n         * Return fullname.\n         */\n        fullName: function() {\n            return this.firstName + ' ' + this.lastName;\n        },\n\n        /**\n         * Validate if a language is supported.\n         */\n        validate: function() {\n            if (supportedLangs.indexOf(this.language) === -1) {\n                throw 'Invalid language.';\n            }\n        },\n\n        /**\n         * Informally greet (default).\n         */\n        greeting: function() {\n            return greetings[this.language] + ' ' + this.firstName + '!';\n        },\n\n        /**\n         * Formally greet (set `formal` to `true`).\n         */\n        formalGreeting: function() {\n            return formalGreeting[this.language] + ', ' + this.fullName() + '.';\n        },\n\n        /**\n         * Greet method. Call either formal or informal greeting methods.\n         * @param {boolean} formal\n         */\n        greet: function(formal) {\n            var msg;\n\n            // Decide whether to call formal or informal greeting.\n            if (formal) {\n                msg = this.formalGreeting();\n            } else {\n                msg = this.greeting();\n            }\n\n            if (console) {\n                this.log();\n            }\n\n            // Make method chainable.\n            return (\n                this,\n                msg\n            );\n        },\n\n        /**\n         * Log fullname to console.\n         */\n        log: function(msg) {\n            if (console) {\n                if (msg) {\n                    console.log(msg);\n                } else {\n                    console.log(logMessages[this.language] + ': ' + this.fullName());\n                }\n            }\n\n            // Make method chainable.\n            return this;\n        },\n\n        /**\n         * Set language that greeting should be returned in.\n         * @param {string} lang\n         */\n        setLang: function(lang) {\n            this.language = lang;\n\n            this.validate();\n\n            // Make method chainable.\n            return this;\n        },\n\n        /**\n         * Set language to formal or informal.\n         * @param {string} lang\n         */\n        setFormal: function(formal) {\n            if (formal.toString() === 'undefined' || formal.toString() === 'true') {\n                this.isFormal = true;\n            } else {\n                this.isFormal = false;\n            }\n\n            // Make method chainable.\n            return this;\n        },\n\n        /**\n         * Insert greeting in HTML.\n         * @param {string} selector\n         * @param {boolean} formal\n         */\n        HTMLGreeting: function(selector, formal) {\n            var htmlMsg;\n            var selected;\n\n            if (!$) {\n                // throw 'jQuery not found.';\n            }\n\n            if (!selector) {\n                throw 'Missing selector';\n            }\n\n            formalLanguage = this.setFormal(formal).isFormal;\n\n            htmlMsg = this.greet(formalLanguage);\n\n            selected = (function() {\n                try {\n                    return document.querySelectorAll(selector);\n                } catch(error) {\n                    console.error(error);\n                    return document.querySelector(selector);\n                }\n            })();\n\n            // Insert HTML for unique element or a collection of elements.\n            if (selected.length === 1) {\n                selected[0].innerHTML = htmlMsg;\n            } else {\n                for (const element of selected) {\n                    element[0].innerHTML = htmlMsg;\n                }\n            }\n\n\n            // Make method chainable.\n            return this;\n        },\n\n    };\n\n    /**\n     * Init function to instantiate prototype (class),\n     * i.e. the actual object is created here.\n     */\n    Greetr.init = function(firstName, lastName, language, age) {\n\n        // Use self instead of `this` to avoid confusion with setting stuff on the function constructor.\n        var self = this;\n\n        self.firstName = firstName || '';\n        self.lastName = lastName || '';\n        self.language = language || 'en';\n        self.age = age || NaN;\n\n        self.validate();\n    };\n\n    /**\n     * Make Greetr.init refer to the prototype of the function constructor.\n     * This way we do not have to use the `new` keyword.\n     */\n    Greetr.init.prototype = Greetr.prototype;\n\n    /**\n     * Attach Greetr to the global object (i.e. \"window\")\n     * and provide a shorthand `$G` to access it.\n     */\n    global.Greetr = global.G$ = Greetr;\n\n})(window, jQuery);\n"]}